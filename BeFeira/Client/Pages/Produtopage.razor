@page "/produtopage"

@inject IProdutoService ProdutoService
@inject NavigationManager  NavigationManager

<header>
    <link rel="stylesheet" href="icons/icons/css/all.css">
    <link rel="stylesheet" href="css/mainpage.css">

    <img src="logo.png" alt="BeFeira Logo">
    <i class="fa-solid fa-circle-user"></i>
</header>


<body class="produtos_stand_container">

    <h1 class="products_stand_name">@nome_da_stand</h1>

    <div class="lista_produtos">

        @foreach (var produto in produtos)
        {
        <div class="produto_basic_info">
            <img src="../exemplo_produto.png" alt="Imagem do produto">
            <p class="nome_produto">@produto.Nome_Produto</p>
            <p class="preco_produto">@String.Format("Preço: {0}€",produto.Preco.ToString("0.00"))</p>
            <p class="stock_produto">@String.Format("Stock: {0} uni.",produto.Stock)</p>
            <button><i class="fas fa-shopping-cart"></i></button>
        </div>
        }

    </div>

</body>


@code{

    protected override async Task OnInitializedAsync()
    {
        await ProdutoService.GetProdutos();
    }


    void ShowProduct(int id)
    {
        NavigationManager.NavigateTo($"produtospecify/{id}");
    }

    // Código para testar

    string nome_da_stand = "<Nome da Stand>";

    public static List<Produto> produtos = new List<Produto>
    {
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1},
            new Produto{ID=1,StandID=1,Nome_Produto="Produto", Preco=0.50f,Promocao=0,Stock=10,Rating=80,SubCategoriaID=1}
    };
}